# 12-01
12-01 «Базы данных» Васяева Ирина
# Задание 1
1. Сотрудники
```
Сотрудники (
    идентификатор serial PRIMARY KEY,
    фамилия varchar(50),
    имя varchar(50),
    отчество varchar(50),
    дата_рождения date,
    email varchar(100),
    телефон varchar(15),
    идентификатор_структурного_подразделения integer REFERENCES Структурные_подразделения(идентификатор)
);
```
2. Структурные подразделения
```
Структурные_подразделения (
    идентификатор serial PRIMARY KEY,
    название varchar(100),
    описание text
);
```
3. Проекты
```
Проекты (
    идентификатор serial PRIMARY KEY,
    название varchar(100),
    дата_начала date,
    дата_окончания date,
    статус varchar(20),
    идентификатор_клиента integer REFERENCES Клиенты(идентификатор)
);
```
4. Клиенты
```
Клиенты (
    идентификатор serial PRIMARY KEY,
    название varchar(100),
    контактное_лицо varchar(50),
    email varchar(100),
    телефон varchar(15),
    адрес text
);
```
5. Задачи
```
Задачи (
    идентификатор serial PRIMARY KEY,
    название varchar(100),
    описание text,
    дата_создания date,
    дата_окончания date,
    статус varchar(20),
    идентификатор_проекта integer REFERENCES Проекты(идентификатор),
    идентификатор_сотрудника integer REFERENCES Сотрудники(идентификатор)
);
```
6. Отчеты
```
Отчеты (
    идентификатор serial PRIMARY KEY,
    название varchar(100),
    дата_создания date,
    идентификатор_проекта integer REFERENCES Проекты(идентификатор),
    идентификатор_сотрудника integer REFERENCES Сотрудники(идентификатор),
    содержание text
);
```
7. Временные затраты
```
Временные_затраты (
    идентификатор serial PRIMARY KEY,
    идентификатор_задачи integer REFERENCES Задачи(идентификатор),
    идентификатор_сотрудника integer REFERENCES Сотрудники(идентификатор),
    дата date,
    часы integer
);
```
Описание таблиц
*Сотрудники:* Хранит информацию о сотрудниках компании, включая их имена, контактные данные и связь с подразделениями.
*Структурные подразделения:* Содержит данные о различных отделах или подразделениях внутри компании.
*Проекты:* Содержит информацию о проектах, включая их названия, даты начала и окончания, а также статус.
*Клиенты:* Хранит данные о клиентах компании, включая контактную информацию.
*Задачи:* Содержит информацию о задачах, связанных с проектами, включая их статус и ответственных сотрудников.
*Отчеты:* Хранит отчеты, созданные по проектам или задачам, включая содержание и ответственных сотрудников.
*Временные затраты:* Содержит информацию о затратах времени на выполнение задач сотрудниками.
# Задание 2*
В денормализованной таблице, такой как таблица сотрудников, могут встречаться различные функциональные зависимости. Давайте рассмотрим, какие зависимости могут быть в представленных данных, и какие правила нормализации следует применить для их устранения.

### Функциональные зависимости

1. **Сотрудники**:
   - `идентификатор → фио, оклад, должность, дата_найма, адрес_филиала, идентификатор_структурного_подразделения, идентификатор_проекта`
   - `идентификатор_структурного_подразделения → название_структурного_подразделения, тип_подразделения`
   - `идентификатор_проекта → название_проекта, описание_проекта`
   - `должность → описание_должности`
   
   Здесь `идентификатор` является первичным ключом, который определяет все остальные атрибуты в таблице сотрудников. Также, идентификаторы структурных подразделений и проектов могут определять дополнительные атрибуты, такие как название и описание.

### Правила вывода для нормализации

Для нормализации данных можно применить следующие правила:

1. **Первая нормальная форма (1НФ)**:
   - Убедитесь, что все атрибуты имеют атомарные значения. Например, если в столбце "Проект на который назначен" могут быть перечислены несколько проектов, это нужно разделить на отдельные записи в другой таблице.

2. **Вторая нормальная форма (2НФ)**:
   - Устраните частичные зависимости. Если атрибут зависит только от части составного ключа, его следует вынести в отдельную таблицу. Например, если у вас есть составной ключ, состоящий из идентификатора сотрудника и идентификатора проекта, и атрибуты, которые зависят только от идентификатора сотрудника, нужно вынести их в таблицу "Сотрудники".

3. **Третья нормальная форма (3НФ)**:
   - Устраните транзитивные зависимости. Если атрибут зависит от другого атрибута, который не является ключом, его следует вынести в отдельную таблицу. Например, если должность определяет описание должности, то описание должности следует вынести в отдельную таблицу "Должности".

### Пример нормализации

1. **Создание таблицы "Сотрудники"**:
   ```sql
   Сотрудники (
       идентификатор serial PRIMARY KEY,
       фио varchar(100),
       оклад numeric(10, 2),
       должность_id integer REFERENCES Должности(идентификатор),
       дата_найма date,
       адрес_филиала text
   );
   ```

2. **Создание таблицы "Структурные подразделения"**:
   ```sql
   Структурные_подразделения (
       идентификатор serial PRIMARY KEY,
       название varchar(100),
       тип varchar(50),
       описание text
   );
   ```

3. **Создание таблицы "Проекты"**:
   ```sql
   Проекты (
       идентификатор serial PRIMARY KEY,
       название varchar(100),
       описание text
   );
   ```

4. **Создание таблицы "Должности"**:
   ```sql
   Должности (
       идентификатор serial PRIMARY KEY,
       название varchar(50),
       описание text
   );
   ```

5. **Создание таблицы "Задачи"**:
   ```sql
   Задачи (
       идентификатор serial PRIMARY KEY,
       название varchar(100),
       описание text,
       статус varchar(20),
       идентификатор_проекта integer REFERENCES Проекты(идентификатор),
       идентификатор_сотрудника integer REFERENCES Сотрудники(идентификатор)
   );
   ```

Таким образом, после применения нормализации, вы получите более структурированную и эффективную базу данных, которая минимизирует избыточность и обеспечивает целостность данных.
